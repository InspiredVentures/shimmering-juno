(function(g){var window=this;'use strict';var Cbc=function(m,F){if(!Number.isFinite(m))return String(m);m=String(m);var L=m.indexOf(".");L===-1&&(L=m.length);var u=m[0]==="-"?"-":"";u&&(m=m.substring(1));return u+(0,g.k3_)("0",Math.max(0,F-L))+m},Fgt=function(m){typeof m==="number"?(this.date=mQC(m,0,1),zQ(this,1)):g.MN(m)?(this.date=mQC(m.getFullYear(),m.getMonth(),m.getDate()),zQ(this,m.getDate())):(this.date=new Date(g.ke()),m=this.date.getDate(),this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0),
zQ(this,m))},mQC=function(m,F,L){F=new Date(m,F,L);
m>=0&&m<100&&F.setFullYear(F.getFullYear()-1900);return F},zQ=function(m,F){m.getDate()!=F&&m.date.setUTCHours(m.date.getUTCHours()+(m.getDate()<F?1:-1))},LgR=function(m){g.d.call(this,{U:"div",
T:[{U:"button",UR:["ytp-offline-slate-button","ytp-button"],T:[{U:"div",J:"ytp-offline-slate-button-icon",G0:"{{icon}}"},{U:"div",J:"ytp-offline-slate-button-text",G0:"{{text}}"}]}]});this.j=m;this.X=this.toggleButtonRenderer=null;(this.B=this.Vc("ytp-offline-slate-button"))&&this.K(this.B,"click",this.G);this.hide()},qoe=function(m,F){!m.toggleButtonRenderer&&F&&F.toggleButtonRenderer?m.toggleButtonRenderer=F.toggleButtonRenderer:F&&F.toggleButtonRenderer||(m.toggleButtonRenderer=null);
upe(m)},upe=function(m){if(m.toggleButtonRenderer){var F=m.toggleButtonRenderer;
if(F.isToggled){var L=F.toggledText?g.lV(F.toggledText):"";m.update({text:L,icon:ALG(F.toggledIcon)})}else L=F.defaultText?g.lV(F.defaultText):"",m.update({text:L,icon:ALG(F.defaultIcon)});m.show()}else m.hide()},vnm=function(m,F){var L=g.z(F,rLR),u=g.z(F,yLC);
if(F&&(L||u)){if(L){var q=L;var A="notification/add_upcoming_event_reminder"}else u&&(q=u,A="notification/remove_upcoming_event_reminder");A&&q&&q.params&&G$8(m,A,q.params)}},G$8=function(m,F,L){m.X||(m.X=new g.bG(m.j.C().nf));
var u={context:g.lG(m.X.config_||g.vS())};g.Pe()&&(u.context.clientScreenNonce=g.Pe());u.params=L;g.cS(m.X,F,u,{timeout:5E3,onError:function(){lke(m)},
onTimeout:function(){lke(m)}})},lke=function(m){m.toggleButtonRenderer&&(m.toggleButtonRenderer.isToggled=!m.toggleButtonRenderer.isToggled,upe(m))},ALG=function(m){if(!m)return null;
switch(m.iconType){case "NOTIFICATIONS":return{U:"svg",D:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},T:[{U:"path",D:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}}]};case "NOTIFICATIONS_NONE":return{U:"svg",D:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},T:[{U:"path",D:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}}]};
case "NOTIFICATIONS_ACTIVE":return g.mYn();default:return null}},wyZ=function(m){g.d.call(this,{U:"div",
J:"ytp-offline-slate",T:[{U:"div",J:"ytp-offline-slate-background"},{U:"div",J:"ytp-offline-slate-bar",T:[{U:"span",J:"ytp-offline-slate-icon",T:[{U:"svg",D:{fill:"#fff",height:"100%",viewBox:"0 0 24 24",width:"100%"},T:[{U:"path",D:{d:"M16.94 6.91l-1.41 1.45c.9.94 1.46 2.22 1.46 3.64s-.56 2.71-1.46 3.64l1.41 1.45c1.27-1.31 2.05-3.11 2.05-5.09s-.78-3.79-2.05-5.09zM19.77 4l-1.41 1.45C19.98 7.13 21 9.44 21 12.01c0 2.57-1.01 4.88-2.64 6.54l1.4 1.45c2.01-2.04 3.24-4.87 3.24-7.99 0-3.13-1.23-5.96-3.23-8.01zM7.06 6.91c-1.27 1.3-2.05 3.1-2.05 5.09s.78 3.79 2.05 5.09l1.41-1.45c-.9-.94-1.46-2.22-1.46-3.64s.56-2.71 1.46-3.64L7.06 6.91zM5.64 5.45L4.24 4C2.23 6.04 1 8.87 1 11.99c0 3.13 1.23 5.96 3.23 8.01l1.41-1.45C4.02 16.87 3 14.56 3 11.99s1.01-4.88 2.64-6.54z"}},
{U:"circle",D:{cx:"12",cy:"12",r:"3"}}]}]},{U:"span",J:"ytp-offline-slate-messages",T:[{U:"div",J:"ytp-offline-slate-main-text",D:{"aria-label":"{{label}}"},G0:"{{mainText}}"},{U:"div",J:"ytp-offline-slate-subtitle-text",G0:"{{subtitleText}}"}]},{U:"span",J:"ytp-offline-slate-buttons"}]},{U:"button",UR:["ytp-offline-slate-close-button","ytp-button"],T:[g.Iy()]},{U:"button",UR:["ytp-offline-slate-open-button","ytp-button"],T:[g.jn()]}]});var F=this;this.api=m;this.X=this.B=null;this.background=this.Vc("ytp-offline-slate-background");
this.G=this.Vc("ytp-offline-slate-bar");this.Y=new g.Bk(function(){g.rm(F.G,"ytp-offline-slate-bar-fade")},15E3);
this.L=!1;this.V=new g.Bk(function(){g.rm(F.element,"ytp-offline-slate-collapsed")},15E3);
g.Q(this,this.V);g.Q(this,this.Y);this.countdownTimer=new g.Bk(this.xI,1E3,this);this.K(m,"presentingplayerstatechange",this.NT);this.K(m,"livestatedata",this.FN);this.K(this.Vc("ytp-offline-slate-close-button"),"click",function(){g.rm(F.element,"ytp-offline-slate-collapsed")});
this.K(this.Vc("ytp-offline-slate-open-button"),"click",function(){g.GE(F.element,"ytp-offline-slate-collapsed")});
this.hide();m=this.getVideoData();m.getPlayerResponse()&&(m=m.getPlayerResponse().playabilityStatus)&&this.FN(m);m=this.api.getPresentingPlayerType()===8&&!this.getVideoData().Xi;var L=this.api.getPresentingPlayerType()===8;g.lT(this.element,"ytp-offline-slate-premiere-trailer",m);g.lT(this.element,"ytp-offline-slate-hide-background",L)},VgN=function(m,F,L){if(F){var u=F.subtitleText!=null?g.lV(F.subtitleText):"";
L=L?L:F.mainText!=null?g.lV(F.mainText):"";var q,A,r,G;F=(G=(q=F.mainText)==null?void 0:(A=q.accessibility)==null?void 0:(r=A.accessibilityData)==null?void 0:r.label)!=null?G:L;m.update({mainText:L,subtitleText:u,label:F});g.lT(m.element,"ytp-offline-slate-single-text-line",!u);g.lT(m.G,"ytp-offline-slate-bar-hidden",!L&&!u)}},Yl=function(m,F){var L=(0,g.a9)();
this.trigger=m;this.X=F;this.G=L},PRt=function(m){g.$G.call(this,m);
var F=this;this.Z=!1;this.W=0;this.Y=!1;this.B=new g.Bk(function(){j$q(F)},0);
this.X=this.heartbeatParams=null;this.V=!1;this.L=new g.O0(1E3,6E4,1);this.sequenceNumber=0;this.offlineSlate=null;this.Bb=new g.bG(void 0);this.attestationResponse=Promise.resolve(void 0);this.hF=Promise.resolve(void 0);this.utcOffsetMinutes=-(new Fgt).getTimezoneOffset();this.G=new g.j7(this);g.Q(this,this.B);g.Q(this,this.G);Ike(this);Rk2(this);this.G.K(m,"heartbeatparams",this.FY);this.G.K(m,"presentingplayerstatechange",this.tA);this.G.K(m,"videoplayerreset",this.EV);this.G.K(m,g.s5("heartbeat"),
this.onCueRangeEnter);this.V&&this.X&&$Qq(this,void 0,this.X);var L=new g.O5(a5(this,!0),0x7ffffffffffff,{priority:1,namespace:"heartbeat"}),u=new g.O5(0x8000000000000,0x8000000000000,{id:"stream_end",priority:1,namespace:"heartbeat"});m.RK([L,u]);ekc(this)},ekc=function(m){var F=m.getVideoData();
!F.N("use_rta_for_player")&&F.Ve&&(F=F.botguardData)&&g.pR(F,m.player.C())},iJG=function(m){var F,L;
return g.h(function(u){if(u.X==1)return g.k(u,g.DCM(),2);if(!u.B)return m.sequenceNumber>=3?u.return({error:"ATTESTATION_ERROR_VM_INTERNAL_ERROR"}):u.return(void 0);F=m.getVideoData();L={};return u.return(g.aW_((L.cpn=F.clientPlaybackNonce,L.encryptedVideoId=F.videoId||"",L),1500))})},Ike=function(m){var F=m.getVideoData();
if(F.Ve)if(F.N("use_rta_for_player"))m.attestationResponse=iJG(m);else if(F=new g.eqj(F),g.DM.isInitialized()||m.sequenceNumber>=3){var L=Promise,u=L.resolve,q=null;if(F.videoData.yn){var A=g.PzB(F);if(A){q={};var r={};A=A.split("&");A=g.Z(A);for(var G=A.next();!G.done;G=A.next())G=G.value.split("="),G.length===2&&(r[G[0]]=G[1]);r.r1a&&(q.webResponse=r.r1a);r.r1c&&(q.error=gn2[Number(r.r1c)]);q.challenge=F.videoData.yn}}m.attestationResponse=u.call(L,q||void 0)}},zkC=function(m){var F=m.getVideoData();
if(!g.hc(m.getVideoData())||F.pm)return!1;if(F.Y){m=F.Y.flavor==="playready"&&F.N("html5_innertube_heartbeats_for_playready");var L=F.Y.flavor==="widevine"&&F.N("html5_innertube_heartbeats_for_widevine");F=g.$N(F.Y)&&F.N("html5_innertube_heartbeats_for_fairplay");return!(m||L||F)}return!0},YoG=function(m){if(zkC(m))return!!m.heartbeatParams;
var F=m.getVideoData();return!g.hc(m.getVideoData())||F.vI||F.cC?!!F.heartbeatToken:!1},DQ=function(m,F){if(!m.B.isActive()&&m.Z){var L=m.getVideoData();
if(YoG(m)||L.isLivePlayback){if(F===void 0)if(m.Y)if(m.V)F=7500;else{var u;F=((u=m.heartbeatParams)==null?0:u.interval)?m.heartbeatParams.interval*1E3:m.getVideoData().GW||6E4}else F=1E3;m.B.start(F)}}},N4Z=function(m,F,L){F.oQ&&(L=g.MO(L,{internalipoverride:F.oQ}));
var u={cpn:F.clientPlaybackNonce};F.contextParams&&(u.context_params=F.contextParams);F.RW&&(u.kpt=F.RW);L=g.MO(L,u);g.pA(L,{format:"RAW",method:"GET",timeout:3E4,onSuccess:function(q){if(!m.B.isActive()&&TQ(m)){m.L.reset();m.sequenceNumber++;q=q.responseText;var A=ak6(q);if(A){m.player.Wb("onHeartbeat",A);var r=A.status==="ok"?A.stop_heartbeat?2:0:A.status==="stop"?1:A.status==="live_stream_offline"?0:-1}else r=(r=q.match(DQm))?r[1]==="0"?0:1:-1;T4e(m,void 0,A,q,r)}},
onError:function(q){TQ(m)&&Nw(m,!0,"net-"+q.status)},
onTimeout:function(){TQ(m)&&Nw(m,!0,"timeout")},
withCredentials:!0})},j$q=function(m){var F,L;
g.h(function(u){F=m.player.C();L=m.getVideoData();if(!TQ(m))return u.return();if(zkC(m))return pyc(m,F,L),u.OR(0);Ike(m);return g.k(u,Kgq(m,F,L),0)})},pyc=function(m,F,L){var u;
if((u=m.heartbeatParams)!=null&&u.url){var q=g.MO(m.heartbeatParams.url,{request_id:g.Bmv()});L.b9&&(q=g.MO(q,{vvt:L.b9}),L.mdxEnvironment&&(q=g.MO(q,{mdx_environment:L.mdxEnvironment})));g.zs(F,L.oauthToken).then(function(A){A&&(q=g.MO(q,{access_token:A}));N4Z(m,L,q)})}},TQ=function(m){var F=m.getVideoData();
return m.player.getPresentingPlayerType()===3||!m.player.C().experiments.cR().X.g8(g.N_Z)&&g.n(m.player.getPlayerStateObject(m.getPlayerType()),4)?!1:YoG(m)||F.isLivePlayback?!0:(pZ(m),!1)},Kgq=function(m,F,L){var u,q,A,r,G,v,l,w,V,I,R,e,a,T,f,M,S,t,b,W;
return g.h(function(H){if(H.X==1)return u="player/heartbeat",A={videoId:L.videoId,sequenceNumber:m.sequenceNumber,heartbeatServerData:(q=m.b9)!=null?q:L.heartbeatServerData},m.hF=m.attestationResponse,L.Ve?g.k(H,m.hF,3):H.OR(2);H.X!=2&&(A.attestationResponse=H.B);r=g.gY(L);v=(G=r.client)!=null?G:{};v.utcOffsetMinutes=m.utcOffsetMinutes;A.context=r;A.cpn=L.clientPlaybackNonce;if(l=typeof Intl!=="undefined"?(new Intl.DateTimeFormat).resolvedOptions().timeZone:null)v.timeZone=l;w={heartbeatChecks:[]};
if(V=L.getPlayerResponse())L.heartbeatToken&&(A.heartbeatToken=L.heartbeatToken),(I=V.playabilityStatus)&&(R=I.liveStreamability)&&R.liveStreamabilityRenderer&&w.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_LIVE_STREAM_STATUS");L.heartbeatToken&&w.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_YPC");g.jm(F)&&(w.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_UNPLUGGED"),e=fkR(m),a={},e!==null&&(a.clientPlayerPositionUtcMillis=e),f=(T=m.player.Ms())==null?void 0:g.Kp(T),S=((M=f)==null?void 0:M.freePreviewWatchedDuration)||
0,S>0&&(a.freePreviewWatchedDuration={seconds:""+S}),w.unpluggedParams=a);A.heartbeatRequestParams=w;L.isLivePlayback?(t=fkR(m),t!==null&&(A.playbackState||(A.playbackState={}),A.playbackState.playbackPosition={utcTimeMillis:t})):F.N("enable_heartbeat_vod_playback_position")&&(b=xQR(m),b!==null&&(A.playbackState||(A.playbackState={}),A.playbackState.playbackPosition={streamTimeMillis:b}));m.player.publish("heartbeatRequest",A);W={timeout:3E4,onSuccess:function(mB){if(!m.B.isActive()&&TQ(m)){var FM=
m.getVideoData(),r_=FM.Ve&&m.hF==null,ju;FM.Ve=!((ju=mB.heartbeatAttestationConfig)==null||!ju.requiresAttestation)||r_;r_=mB.playabilityStatus;ju=JSON.stringify(r_)||"{}";mB.authenticationMismatch&&m.player.XN("authshear",{});var LM=-1;var g_=mB.playabilityStatus;g_&&(m.player.Wb("onHeartbeat",g_),g_.status==="OK"?LM=mB.stopHeartbeat?2:0:g_.status==="UNPLAYABLE"?LM=1:g_.status==="LIVE_STREAM_OFFLINE"&&(LM=0));m.sequenceNumber&&LM===-1||m.L.reset();m.sequenceNumber++;mB.heartbeatServerData&&(m.b9=
mB.heartbeatServerData);FM.qo=mB;(g_=mB.playerCueRangeSet)&&g.ef(FM,g_);mB.playerCueRanges&&mB.playerCueRanges.length>0&&(FM.cueRanges=mB.playerCueRanges);var BN,r6;((BN=mB.progressBarConfig)==null?0:BN.progressBarStartPosition)&&((r6=mB.progressBarConfig)==null?0:r6.progressBarEndPosition)&&(FM.progressBarStartPosition=mB.progressBarConfig.progressBarStartPosition,FM.progressBarEndPosition=mB.progressBarConfig.progressBarEndPosition);FM.compositeLiveIngestionOffsetToken=mB.compositeLiveIngestionOffsetToken;
mB.compositeLiveStatusToken!==FM.compositeLiveStatusToken&&(FM.compositeLiveStatusToken=mB.compositeLiveStatusToken);FM.heartbeatLoggingToken=mB.heartbeatLoggingToken;FM.publish("dataupdated");T4e(m,mB,r_,ju,LM)}},
onError:function(mB){TQ(m)&&Nw(m,!0,"net-"+mB.status)},
onTimeout:function(){TQ(m)&&Nw(m,!0,"timeout")}};
g.zs(F,g.rY(L)).then(function(mB){mB&&(W.cX="Bearer "+mB);g.cS(m.Bb,u,A,W)});
g.uq(H)})},T4e=function(m,F,L,u,q){q===-1?(L="decode "+g.WO(u,3),Nw(m,!1,L)):q===2?(pZ(m),m.Y=!0):(m.W=0,m.B.stop(),q===1?(m.Y=!1,L&&L.errorCode==="PLAYABILITY_ERROR_CODE_EMBARGOED"&&m.player.rM(!0),q="pe."+(L==null?void 0:L.errorCode)+";ps."+(L==null?void 0:L.status),m.player.Ap("heartbeat.stop",2,m.DX(u),q),g.V1("heartbeatActionPlayerHalted",Mgm(L)),(F==null?0:F.videoTransitionEndpoint)&&L&&(F=F.videoTransitionEndpoint,(u=g.z(F,g.iZ))&&ZJN(m,u,L,{itct:F==null?void 0:F.clickTrackingParams}))):(m.Y=
!0,u=0,m.V&&L&&(u=$Qq(m,F,L),m.player.publish("livestatedata",L)),u?DQ(m,u):DQ(m)))},$Qq=function(m,F,L){var u=L.liveStreamability&&L.liveStreamability.liveStreamabilityRenderer,q=!(!u||!(u.switchStreamsImmediately||u.transitionTiming&&u.transitionTiming==="STREAM_TRANSITION_TIMING_IMMEDIATELY"));
F=SoC(F,u);var A=m.getVideoData(),r=m.player.getPlayerStateObject(m.getPlayerType()),G=r.isPlaying()&&!g.dh(A)&&!m.player.isAtLiveHead(m.getPlayerType());if(A.C().wY()){var v,l=((v=m.player.CA())==null?void 0:v.dY())||{};l.status=L.status||"";l.dvr=""+ +G;l["switch"]=""+ +q;l.ended=""+ +!(!u||!u.displayEndscreen);m.player.XN("heartbeat",l)}v=u&&u.broadcastId;l=m.X&&m.X.liveStreamability&&m.X.liveStreamability.liveStreamabilityRenderer&&m.X.liveStreamability.liveStreamabilityRenderer.broadcastId;var w=
v!==l&&v!=null;w&&m.player.XN("lbidh",{broadcastId:v},!0);var V=A.C();if(V.cR().X.g8(g.zD2)&&g.Rf(V)&&u&&u.streamTransitionEndpoint){var I;V=((I=g.z(u.streamTransitionEndpoint,g.wr))==null?void 0:I.commands)||[];I=g.Z(V);for(V=I.next();!V.done;V=I.next()){var R=void 0;if(((R=g.z(V.value,g.ky))==null?void 0:R.signal)==="RELOAD_PLAYER"){m.player.Ap("qoe.restart",1,void 0,"sa.reload","7");break}}}I=m.player.N("always_cache_redirect_endpoint");if(G&&!q&&!I)return F;V=u&&u.streamTransitionEndpoint&&g.z(u.streamTransitionEndpoint,
g.iZ);R=u&&u.transitionTiming;if(R==="STREAM_TRANSITION_TIMING_AT_STREAM_END")m.getVideoData().transitionEndpointAtEndOfStream=V;else if(I&&!V&&m.getVideoData().transitionEndpointAtEndOfStream)m.getVideoData().transitionEndpointAtEndOfStream=void 0;else if(!I&&V&&ZJN(m,V,L))return F;if(G&&!q&&I||I&&V&&(R==="STREAM_TRANSITION_TIMING_IMMEDIATELY"||R==="STREAM_TRANSITION_TIMING_UNSPECIFIED")&&ZJN(m,V,L))return F;if(L.status.toUpperCase()==="OK"){if(!g.s$(A)||w){var e={video_id:A.videoId};A.t$&&(e.is_live_destination=
"1");e.disable_watch_next=!0;e.raw_watch_next_response=A.getWatchNextResponse();e.autonav_state=A.autonavState;e.oauth_token=A.oauthToken;e.lE=A.lE;A.L&&(e.vss_credentials_token=A.L,e.vss_credentials_token_type=A.wy);A.b9&&(e.vvt=A.b9);u=void 0;g.s$(A)?w&&(u=new Yl("broadcastIdChanged",l+","+v),m.KW("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_BROADCAST_ID_CHANGED",L)):(v&&(u=new Yl("formatsReceived",""+v)),m.KW("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_LIVE_STREAM_WENT_ONLINE",
L));w&&m.player.XN("lbidr",{broadcastId:v});m.player.loadVideoByPlayerVars(e,void 0,void 0,void 0,u);return F}m.player.Gw("heartbeat",m.getPlayerType())}u&&u.displayEndscreen&&(m.offlineSlate?(m=m.offlineSlate,m.L=!0,m.Gh&&m.api.j8()):r.isBuffering()&&(A=((e=m.player.CA())==null?void 0:e.dY())||{},m.player.XN("hbse",A,!0),m.player.j8(!0,"h"),m.player.Wb("onLiveMediaEnded",L)));return F},SoC=function(m,F){return(m=Number(m==null?void 0:m.pollDelayMs))?m:(F=Number(F==null?void 0:F.pollDelayMs))?F:0},
Nw=function(m,F,L){if(!m.B.isActive()){m.B.stop();
m.W++;var u=F?"heartbeat.net":"heartbeat.servererror";var q=m.getVideoData();if(q.Nl||F&&!g.hc(m.getVideoData())&&!YoG(m)&&q.isLivePlayback)q=!1;else{var A,r;((r=m.heartbeatParams)==null?0:r.retries)?A=m.heartbeatParams.retries:A=q.jk||5;q=m.W>=A}q?(g.V1("heartbeatActionPlayerHalted",F?{enforcedPolicyToHaltOnNetworkFailure:!0}:Mgm()),(F=m.getVideoData())&&F.isLivePlayback?m.player.Ap(u,1,"Video playback interrupted. Please try again.",L):m.player.Ap(u,1,"Sorry, there was an error licensing this video.",
L)):(DQ(m,m.L.getValue()),g.Q2(m.L))}},Mgm=function(m){var F={enforcedPolicyToHaltOnNetworkFailure:!1};
m&&(F.serializedServerContext=m.additionalLoggingData);return F},pZ=function(m){m.W=0;
m.B.stop();m.Y=!1;m.sequenceNumber=0},Rk2=function(m){var F=m.getVideoData(),L=m.player.C();
if(F.isLivePlayback)if(g.fw(L.Y)){m.V=!0;m.Z=!0;if(!g.Rf(L)||g.jm(L))m.offlineSlate=new wyZ(m.player),g.Q(m,m.offlineSlate),g.Jb(m.player,m.offlineSlate.element,4);(F=F.getPlayerResponse())&&F.playabilityStatus&&(m.X=F.playabilityStatus);var u;((u=m.X)==null?void 0:u.status)!=="UNPLAYABLE"&&(m.X?(u=SoC(void 0,m.X.liveStreamability&&m.X.liveStreamability.liveStreamabilityRenderer))?DQ(m,u):DQ(m,7500):DQ(m,a5(m,!0)))}else m.player.Ap("html5.unsupportedlive",2,"HTML5_NO_AVAILABLE_FORMATS_FALLBACK","nolive.1");
else g.nc(F.D9,"heartbeat")&&m.player.Gw("heartbeat",m.getPlayerType())},ZJN=function(m,F,L,u){var q=F&&F.videoId;
return q?(m.player.FL(q,Object.assign({},{autonav:"1"},u||{}),void 0,!0,!0,F,g.rY(m.getVideoData())),m.KW("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT",L),!0):!1},fkR=function(m){return(m=m.player.getProgressState(m.getPlayerType()).ingestionTime)&&isFinite(m)?""+Math.floor(m*1E3):null},xQR=function(m){return(m=m.player.getCurrentTime(m.getPlayerType()))&&isFinite(m)?""+Math.floor(m*1E3):null},a5=function(m,F){F=F===void 0?!1:F;
m=m.getVideoData();return m.N("html5_use_server_init_heartbeat_delay")?isNaN(m.GW)?15E3:m.GW:F?1E3:2E3},ak6=function(m){try{var F=JSON.parse(m);
return F!=null?F:void 0}catch(L){}},on6={ERAS:["BC",
"AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss\u202fa zzzz","h:mm:ss\u202fa z","h:mm:ss\u202fa","h:mm\u202fa"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},XyC=on6;XyC=on6;
var gn2=["ATTESTATION_ERROR_UNKNOWN","ATTESTATION_ERROR_VM_NOT_INITIALIZED","ATTESTATION_ERROR_VM_NO_RESPONSE","ATTESTATION_ERROR_VM_TIMEOUT","ATTESTATION_ERROR_VM_INTERNAL_ERROR"],tgZ={300:"STREAMING_DEVICES_QUOTA_PER_24H_EXCEEDED",301:"ALREADY_PINNED_ON_A_DEVICE",303:"STOPPED_BY_ANOTHER_PLAYBACK",304:"TOO_MANY_STREAMS_PER_USER",305:"TOO_MANY_STREAMS_PER_ENTITLEMENT",400:"VIDEO_NOT_FOUND",401:"GEO_FAILURE",402:"STREAMING_NOT_ALLOWED",403:"UNSUPPORTED_DEVICE",405:"VIDEO_FORBIDDEN",500:"PURCHASE_NOT_FOUND",
501:"RENTAL_EXPIRED",502:"PURCHASE_REFUNDED",5E3:"BAD_REQUEST",5001:"CGI_PARAMS_MISSING",5002:"CGI_PARAMS_MALFORMED",5100:"AUTHENTICATION_MISSING",5101:"AUTHENTICATION_MALFORMED",5102:"AUTHENTICATION_EXPIRED",5200:"CAST_TOKEN_MALFORMED",5201:"CAST_TOKEN_EXPIRED",5202:"CAST_TOKEN_FAILED",5203:"CAST_SESSION_VIDEO_MISMATCHED",5204:"CAST_SESSION_DEVICE_MISMATCHED",6E3:"INVALID_DRM_MESSAGE",7E3:"SERVER_ERROR",8E3:"RETRYABLE_ERROR"};g.P=Fgt.prototype;g.P.vj=XyC.FIRSTDAYOFWEEK;g.P.l1=XyC.FIRSTWEEKCUTOFFDAY;
g.P.clone=function(){var m=new Fgt(this.date);m.vj=this.vj;m.l1=this.l1;return m};
g.P.getFullYear=function(){return this.date.getFullYear()};
g.P.getYear=function(){return this.getFullYear()};
g.P.getMonth=function(){return this.date.getMonth()};
g.P.getDate=function(){return this.date.getDate()};
g.P.getTime=function(){return this.date.getTime()};
g.P.getDay=function(){return this.date.getDay()};
g.P.getUTCFullYear=function(){return this.date.getUTCFullYear()};
g.P.getUTCMonth=function(){return this.date.getUTCMonth()};
g.P.getUTCDate=function(){return this.date.getUTCDate()};
g.P.getUTCDay=function(){return this.date.getDay()};
g.P.getUTCHours=function(){return this.date.getUTCHours()};
g.P.getUTCMinutes=function(){return this.date.getUTCMinutes()};
g.P.getTimezoneOffset=function(){return this.date.getTimezoneOffset()};
g.P.set=function(m){this.date=new Date(m.getFullYear(),m.getMonth(),m.getDate())};
g.P.setFullYear=function(m){this.date.setFullYear(m)};
g.P.setYear=function(m){this.setFullYear(m)};
g.P.setMonth=function(m){this.date.setMonth(m)};
g.P.setDate=function(m){this.date.setDate(m)};
g.P.setTime=function(m){this.date.setTime(m)};
g.P.setUTCFullYear=function(m){this.date.setUTCFullYear(m)};
g.P.setUTCMonth=function(m){this.date.setUTCMonth(m)};
g.P.setUTCDate=function(m){this.date.setUTCDate(m)};
g.P.add=function(m){if(m.years||m.months){var F=this.getMonth()+m.months+m.years*12,L=this.getYear()+Math.floor(F/12);F%=12;F<0&&(F+=12);a:{switch(F){case 1:var u=L%4!=0||L%100==0&&L%400!=0?28:29;break a;case 5:case 8:case 10:case 3:u=30;break a}u=31}u=Math.min(u,this.getDate());this.setDate(1);this.setFullYear(L);this.setMonth(F);this.setDate(u)}m.days&&(L=this.getYear(),F=L>=0&&L<=99?-1900:0,m=new Date((new Date(L,this.getMonth(),this.getDate(),12)).getTime()+m.days*864E5),this.setDate(1),this.setFullYear(m.getFullYear()+
F),this.setMonth(m.getMonth()),this.setDate(m.getDate()),zQ(this,m.getDate()))};
g.P.equals=function(m){return!(!m||this.getYear()!=m.getYear()||this.getMonth()!=m.getMonth()||this.getDate()!=m.getDate())};
g.P.toString=function(){var m=this.getFullYear(),F=m<0?"-":m>=1E4?"+":"";return[F+Cbc(Math.abs(m),F?6:4),Cbc(this.getMonth()+1,2),Cbc(this.getDate(),2)].join("")+""};
g.P.valueOf=function(){return this.date.valueOf()};var rLR=new g.xt("addUpcomingEventReminderEndpoint");var yLC=new g.xt("removeUpcomingEventReminderEndpoint");g.Y(LgR,g.d);LgR.prototype.G=function(){if(this.toggleButtonRenderer){var m=this.toggleButtonRenderer;m.isToggled?vnm(this,m.toggledServiceEndpoint):vnm(this,m.defaultServiceEndpoint);m.isToggled=!m.isToggled;upe(this)}};g.Y(wyZ,g.d);g.P=wyZ.prototype;g.P.getPlayerType=function(){if(this.api.getPresentingPlayerType()===8)return 1};
g.P.getVideoData=function(){return this.api.getVideoData({playerType:this.getPlayerType()})};
g.P.FN=function(m){var F,L,u=m==null?void 0:(F=m.liveStreamability)==null?void 0:(L=F.liveStreamabilityRenderer)==null?void 0:L.offlineSlate;if(u){this.B=m;F=u.liveStreamOfflineSlateRenderer;F.canShowCountdown?this.xI():VgN(this,F);var q,A,r,G;if(L=m==null?void 0:(q=m.liveStreamability)==null?void 0:(A=q.liveStreamabilityRenderer)==null?void 0:(r=A.offlineSlate)==null?void 0:(G=r.liveStreamOfflineSlateRenderer)==null?void 0:G.thumbnail){q=0;A=null;r=L.thumbnails;for(G=0;G<r.length;G++)r[G].width>
q&&(q=r[G].width||0,A=r[G].url);A&&(this.background.style.backgroundImage="url("+A+")")}else this.background.style.backgroundImage="";F.actionButtons?(this.X||(this.X=new LgR(this.api),this.X.tF(this.Vc("ytp-offline-slate-buttons")),g.Q(this,this.X)),qoe(this.X,F.actionButtons&&F.actionButtons[0])):this.X&&qoe(this.X,null);this.B=m}else this.B=null;this.NT()};
g.P.NT=function(m){if(this.api.getPresentingPlayerType()===8)var F=!0;else{var L=this.api.getPlayerStateObject(),u=this.getVideoData();F=u.isLivePlayback&&(L.isBuffering()||g.n(L,2)||g.n(L,64));var q=u.autonavState===2&&g.n(L,2);L=L.isPlaying()&&!g.dh(u)&&!this.api.isAtLiveHead(void 0,!0);F=F&&!L&&!q}F&&this.B?this.Gh?(m==null?0:g.va(m,2))&&!this.getVideoData().Xi&&(g.GE(this.element,"ytp-offline-slate-collapsed"),this.V.stop(),g.GE(this.G,"ytp-offline-slate-bar-fade"),this.Y.start()):(this.show(),
this.V.start(),this.api.publish("offlineslatestatechange"),this.L&&this.api.j8()):this.Gh&&(this.hide(),this.api.publish("offlineslatestatechange"))};
g.P.xI=function(){var m,F,L,u,q=(m=this.B)==null?void 0:(F=m.liveStreamability)==null?void 0:(L=F.liveStreamabilityRenderer)==null?void 0:(u=L.offlineSlate)==null?void 0:u.liveStreamOfflineSlateRenderer;q&&(m=Math.floor(g.ke()/1E3),F=q.canShowCountdown&&Number(q.scheduledStartTime),!F||F<=m?(VgN(this,q),this.countdownTimer.stop()):(VgN(this,q,g.Pa(F-m)),g.Hk(this.countdownTimer)))};
g.P.IW=function(){this.countdownTimer.dispose();this.countdownTimer=null;g.d.prototype.IW.call(this)};Yl.prototype.B=function(m){return this.trigger&&m.trigger?this.trigger===m.trigger&&this.X===m.X:!1};
Yl.prototype.isExpired=function(){return(0,g.a9)()-this.G>6E4};
Yl.prototype.toString=function(){return"heartbeat:"+this.trigger+":"+this.X};g.Y(PRt,g.$G);g.P=PRt.prototype;g.P.IW=function(){pZ(this);this.player.kM("heartbeat");g.$G.prototype.IW.call(this)};
g.P.onCueRangeEnter=function(){this.Z=!0;DQ(this,a5(this))};
g.P.FY=function(m){this.heartbeatParams=m;DQ(this,a5(this))};
g.P.tA=function(m){var F;this.player.getPresentingPlayerType()!==8&&((F=this.X)==null?void 0:F.status)!=="UNPLAYABLE"&&(g.n(m.state,2)||g.n(m.state,64)?(pZ(this),this.V&&(this.Z=!0,DQ(this,a5(this,!0)))):(F=this.player.C().experiments.cR().X.g8(g.N_Z),(g.n(m.state,1)||g.n(m.state,8)||F&&g.n(m.state,4))&&DQ(this,a5(this))))};
g.P.EV=function(){this.player.getPresentingPlayerType()!==3&&DQ(this,a5(this))};
g.P.getPlayerType=function(){if(this.player.getPresentingPlayerType()===8)return 1};
g.P.getVideoData=function(){return this.player.getVideoData({playerType:this.getPlayerType()})};
g.P.Eg=function(m){switch(m){case 4:case 3:return!1}return!0};
g.P.KW=function(m,F,L){m={trigger:m,reason:F};L&&(m.serializedServerContext=L.additionalLoggingData);g.V1("heartbeatActionPlayerTransitioned",m)};
g.P.DX=function(m){var F="LICENSE",L=ak6(m);if(L)return L.reason||g.kG[F]||"";if(m=m.match(DQm))if(m=Number(m[1]))F=(F=tgZ[m.toString()])?F:"LICENSE";return g.kG[F]||""};
g.P.ut=function(){return!!this.offlineSlate&&this.offlineSlate.Gh};
var DQm=/^GLS\/1.0 (\d+) (\w+).*?\r\n\r\n([\S\s]*)$/;g.R3("heartbeat",PRt);})(_yt_player);
